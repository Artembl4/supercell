var app=new Object;app.debug=true;app.is_mobile=false;app.is_not_ipad=false;app.players={};app.hash="";app.scrolled=false;app.job_locations=["helsinki-finland","san-francisco-ca","seoul-korea","tokyo-japan","finland-helsinki","korea-republic-of","korea-seoul","japan-tokyo","united-states-san-francisco"];if(window.location.hostname.indexOf("supercell.com")>-1)app.debug=false;else console.log("Location checked. Not on prod.");if(app.debug)console.log("%cDEBUGGING:ON","background-color:#000; color:#f00; padding:10px 30px; border-radius:35px; font-weight:bold; font-size:32px;");
var skr=undefined;var animateNums=false;
(function($,Drupal,undefined){$(".button18-arrow").on("click",function(e){var alfredo="sd44fkjh";console.log("sd44fkjh");$([document.documentElement,document.body]).animate({scrollTop:$("#join").offset().top},1E3);return false});$("li.openpositions span.a").on("click",function(e){var alfredo="sd44fkjh654654654";console.log("sd44fkjh654654654");return false});jwplayer.key="c65V3VVLDU4R729NbfMeJ3/LEU8WA2S3IdvsF9G91gk=";$(".hero-title .field, .hero-title h4, .hero-title h5, .hero-title img").addClass("visible");$(".hero-title .cross-slider, .hero-title, #main-content").addClass("visible");
app.start={init:function(){app.can_matchmedia=false;if(typeof window.matchMedia!==undefined&&typeof window.matchMedia!=="undefined")app.can_matchmedia=true;var $delay=500;app.ui.check_is_mobile();if(app.is_mobile)$delay=1E3;app.resized=setTimeout(app.ui.check_dp,$delay);app.ui.init();app.nav.init();app.player.init();app.search.init();if($(".page.front-page").length>0)app.frontpage.init();if($("body.section-games").length>0)app.games.init();if($("#page-careers").length>0)app.careers.init();if($("#page-careersoffices").length>
0)app.careersoffices.init();if($("#page-careersloveit").length>0)app.careersloveit.init();if($("#page-careersjoin").length>0)app.careersjoin.init();if($("body.section-careers").length>0)app.job.init();if($("#page-ourstory").length>0)app.story.init();if($("#main-content > .node-news").length>0)app.newspage.singleArticleInit();if($(".node-news").length>0&&window.sessionStorage.getItem("news-page"))$(".node-news .more-news > a").attr("href",window.sessionStorage.getItem("news-page"));if($("#page-news").length>
0&&!$(".pane-news-levelup")[0]){window.sessionStorage.setItem("news-page",window.location);if(window.location.pathname.match(/\d+/)){console.log("NEWS NEWS NEWS",app.newspage.getCookie("news-page"));var rNum=parseInt(window.location.pathname.match(/\d+/)[0])+1;var paged=window.sessionStorage.getItem("paged");if(paged!=rNum-1){var rUrl=window.location.pathname.replace(/[0-9]/g,rNum);window.history.pushState(null,null,rUrl);window.sessionStorage.setItem("paged",rNum-1)}else{var rUrl=window.location.pathname.replace(/[0-9]/g,
rNum);window.history.pushState(null,null,rUrl)}}}else if($("#page-news").length>0&&$(".pane-news-levelup")[0])if($(".item-list-pager")[0])$(".pane-news-levelup .columns.grid-system-row").css("padding-bottom","0rem");else $(".pane-news-levelup .columns.grid-system-row").css("padding-bottom","4rem");if($(".node-job .field-name-job-application").length>0)app.jobapplication.init();if($("body.section-parents").length>0)$("a[href*=\\#]:not([href=\\#])").click(function(){if(location.pathname.replace(/^\//,
"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var target=$(this.hash),headerHeight=$("header").height()+5;target=target.length?target:$("[name="+this.hash.slice(1)+"]");if(target.length){console.log("scrolling to top lakjsgdflkjsbdv,nm cnmb443sdf7848");$("html,body").animate({scrollTop:target.offset().top-headerHeight*1.4},400);return false}}});$.doTimeout(3E3,function(){$(window).on("resize orientationChanged",function(){clearTimeout(app.resized);app.resized=setTimeout(app.ui.check_dp,
$delay)})})}};app.ui={init:function(){$(".flexslider").each(function(){var $anim="slide";var $anim_loop=false;var $anim_speed=350;var $slideshow=false;var $pause_hover=false;var $selector=".slides > li";var $randomize=false;if(app.is_mobile)$anim_speed=250;if($(this).hasClass("carousel")){$slideshow=true;if($(this).find("video").length>0)$slideshow=false;$anim_loop=true;$anim_speed=800;$pause_hover=true;$anim="fade"}if($(this).hasClass("slideshow")){$slideshow=true;$anim_loop=true;$anim_speed=800;
$pause_hover=true;$anim="fade"}if($(this).hasClass("two-to-one")||$(this).hasClass("three-to-one")||$(this).hasClass("four-to-one"))if(app.can_matchmedia){var $mq=window.matchMedia("screen and (max-width: 767px)");if($mq.matches)$selector=".slides .item"}if($(this).hasClass("random-order")){$randomize=false;$(this).randomize(".slides li div.links","div.item")}$(this).flexslider({animation:$anim,animationLoop:$anim_loop,slideshow:$slideshow,animationSpeed:$anim_speed,pauseOnHover:$pause_hover,selector:$selector,
useCSS:false,randomize:$randomize,start:function(slider){var event=new CustomEvent("flexSliderReady",slider);window.dispatchEvent(event)},after:function(slider){$article=slider.closest("article");if($article.hasClass("m-videos")||$article.hasClass("m-fullvideo"))app.player.pause_slider_siblings($article)}})});$(".flexslider").on("touchmove",function(e){});FastClick.attach(document.body);objectFitImages();$(".toggle-mobile").on("click",function(e){if(e)e.preventDefault();$(this).toggleClass("visible");
$(".main-menu").toggleClass("visible");if($(this).hasClass("visible"))$("html").addClass("no-scroll");else{$("html").removeClass("no-scroll");$("nav.primary").find(".active-leaf").removeClass("active-leaf");$("nav.primary").find("ul.active").removeClass("active")}});$(".main-menu .menu>ul>li>span>a, .main-menu .menu>ul>li").each(function(){if($(this).hasClass("expanded")&&!$(this).hasClass("dotdot")){var child=$(this);if(child.length>0){child=child.clone();child.find("ul").remove();child.removeClass("expanded");
child.find("a").removeClass("active-trail");child.addClass("mobile-extra-link");$(this).find("ul").prepend(child);if(child.hasClass("careers"))if(!window.location.hash)$(".careers li.openpositions span a").removeClass("active");else if(window.location.hash=="#join"||window.location.hash=="#openpositions")$(".careers li.openpositions span a").addClass("active")}}});$(".play a").on("hover",function(){$(this).next().toggleClass("hover")});$(".m-games-landing .device").on("click",function(e){e.stopPropagation();
$link=$(this).find("a").first();document.location.replace($link.attr("href"))});if($("#content-language").length>0){if(app.can_matchmedia){var $mq=window.matchMedia("(max-width: 1203px)");if($mq.matches){var $select='<select id="select-language">';var $count=0;var $selected_txt="";var $selected_class="";var $curr=window.location.pathname;$("#content-language ul.dd a").each(function(){var $selected="";if($(this).attr("href")==$curr)$selected=' selected="selected"';$select+='<option value="'+$(this).attr("href")+
'"'+$selected+">"+$(this).text()+"</option>";$count++});$select+="</select>";$("#content-language ul.dd").after($select);$("#select-language").on("change blur",function(){var $val=$(this).val();$("#content-language ul.dd a").each(function(){if($(this).attr("href")==$val)window.location.href=$val})})}else $("html").on("click",function(e){if($(e.target).parent().attr("id")=="active-language"|$(e.target).attr("id")=="active-language")$("#content-language ul.dd").toggleClass("open");else if($(e.target).parent().hasClass("views-row"))return;
else $("#content-language ul.dd").removeClass("open")})}$("#content-language ul li a").each(function(){var $curr=window.location.pathname;if($(this).attr("href")==$curr){$(this).parent().addClass("active");$("#content-language #active-language span").html($(this).html())}})}$("a[href^=#]").click(function(e){if(this.hash.length>1&&$(this.hash).length>0){e.preventDefault();if($(this).closest("ul").hasClass("job-functions tabbed"))return false;if($(this).closest("ul").hasClass("job-locations tabbed"))return false;
$("html,body").animate({scrollTop:$(this.hash).offset().top-$("header.main").outerHeight()},500)}});if(app.can_matchmedia){var $mq=window.matchMedia("(min-width: 1025px)");if($mq.matches){$.doTimeout("reveal",250,function(){app.ui.reveal()});$(window).scroll(function(){app.ui.reveal()})}}if($(window).height()>900)$(".page-games .m-introduction .content").addClass("animate")},check_dp:function(){app.ui.check_is_mobile();if(!app.checked_dp){app.checked_dp=1;app.img.hero_load()}else{$("html").addClass("resized");
app.hero.resize()}},check_is_mobile:function(){app.is_mobile=true;if(app.can_matchmedia){var $mq=window.matchMedia("(min-width: 768px)");if($mq.matches){app.is_mobile=false;$mq=window.matchMedia("(min-width: 1025px)");if($mq.matches)app.is_not_ipad=true}else app.is_not_ipad=true}},handle_anchor:function(){if(window.location.hash.length>0&&!app.scrolled){var $hash=encodeURI(window.location.hash);console.log("handle anchors 90w8yrsldjh");$hash=$hash.replace("=","");if($($hash).length>0)$("#main-content, .hero-title").addClass("transit_none")}},
init_job_categories:function(){$(".job-functions li, .job-locations li").each(function(index){var cat=$(this).children("a").attr("id");var pos_in_cat=$("#join .job-positions > li."+cat).length;if(pos_in_cat==0)$(this).addClass("disabled");else{$(this).addClass("not-empty");var selector=$("#join .job-positions > li."+cat)[0];var loc=selector.dataset.location;var fun=selector.dataset["function"];if(app.careers.all_functions.indexOf(fun)===-1)app.careers.all_functions.push(fun);if(app.careers.all_locations.indexOf(loc)===
-1)app.careers.all_locations.push(loc)}});if(app.is_mobile)$(".job-functions li").not(".disabled").last().addClass("last moo")},filter_jobs:function(){var active_func=[];var active_loc=[];$(".job-functions li.active").each(function(index){active_func.push("."+$(this).children("a").attr("id"))});if(active_func.length===0)$('.job-functions li:not("disabled")').each(function(index){active_func.push("."+$(this).children("a").attr("id"))});$(".job-locations li.active").each(function(index){active_loc.push("."+
$(this).children("a").attr("id"))});if(active_loc.length===0)$('.job-locations li:not("disabled")').each(function(index){active_loc.push("."+$(this).children("a").attr("id"))});$("#join .job-positions > li, .open-applications > li").removeClass("visible");var count=0;var loc_str=active_loc.join(", ");var func_str=active_func.join(", ");var matches=$("#join .job-positions > li").filter(function(index){return $(this).is(func_str)&&$(this).is(loc_str)}).addClass("visible");if($("#join .job-positions > li").is(".visible")){$("#join .view-footer").removeClass("visible");
$("#join .view-footer .notice").removeClass("visible")}else{$("#join .view-footer").addClass("visible");$("#join .view-footer .notice").addClass("visible")}},select_job_function:function(id,txt){if($("#select-job-function").length>0)$("#selected-job-function").attr("class",id).find("span").text(txt)},sort_job_list:function(attr){$("#join .job-positions").each(function(){$(this).html($(this).children("li").sort(function(a,b){return $(b).data(attr)<$(a).data(attr)?1:-1}))})},reveal:function(){if($(".page-games").length){if($(".page-games .m-introduction .content").isOnScreen(1,
.1))$(".page-games .m-introduction .content").addClass("animate");if($(".page-games .m-gamewebsite").isOnScreen(1,.2))$(".page-games .m-gamewebsite .content").addClass("animate");if($(".page-games .m-timeline").isOnScreen(1,.2))$(".page-games .m-timeline .game-screen").addClass("animate");if($(".page-games .m-timeline .timeline-block:first-child").isOnScreen(1,.75))$(".page-games .m-timeline .scroll-container .timeline-block .title").addClass("animate");$(".page-games .m-story .quote blockquote:not(.animate)").each(function(i){if($(this).isOnScreen(1,
.75)&&$(this).is(":visible"))$(this).addClass("animate")})}if($("#page-ourstory").length)$(".m-beginning .timeline .event:not(.animate)").each(function(){if($(this).isOnScreen(1,1))$(this).addClass("animate")});if($("#page-careers").length)$(".m-why .deco").addClass("animate");if($("body.section-support").length)$(".m-findsupport .deco").addClass("animate")}};app.hero={init:function(){if($("html").hasClass("video")){var timeout=0;if(!app.is_mobile&&app.is_not_ipad)timeout=250;$.doTimeout(timeout,
function(){app.players["hero-bg-video"]=$("#hero-bg-video")[0];if(app.players["hero-bg-video"]){app.players["hero-bg-video"].load();$("#hero-bg-video").on("canplay",function(){if($(".hero-title").hasClass("feature-video"))return true;app.players["hero-bg-video"].play();$(".hero-title").addClass("bg-video")});app.hero_bg_pos=$(".hero-title").height();$(window).scroll(function(){if($(window).scrollTop()>app.hero_bg_pos){if(!app.players["hero-bg-video"].paused)app.players["hero-bg-video"].pause()}else if(app.players["hero-bg-video"].paused&&
!$(".hero-title").hasClass("feature-video"))app.players["hero-bg-video"].play()})}})}},resize:function(){app.ui.handle_anchor()},play_feature:function(){if(app.players["hero-bg-video"])app.players["hero-bg-video"].pause(true);if(!app.players["hero-video"])app.player.create($("#hero-video"),true);$(".hero-title").addClass("feature-mode");$("header.main").addClass("hero-feature-mode");$.doTimeout(1500,function(){if(app.players["hero-bg-video"])app.players["hero-bg-video"].pause(true);if(app.players["hero-video"])app.players["hero-video"].play(true);
$(".hero-title").addClass("feature-video")})},play_bg:function(){$(".hero-title").removeClass("feature-video feature-mode");$("header.main").removeClass("hero-feature-mode");if(app.players["hero-video"]){app.players["hero-video"].pause(true);if(app.players["hero-video"].getState()=="PLAYING")$.doTimeout(500,function(){app.players["hero-video"].pause(true)})}if(!app.is_mobile&&app.is_not_ipad)$.doTimeout(1E3,function(){app.players["hero-bg-video"].play()})},is_parallax_browser:function(){if(app.can_matchmedia){$mq=
window.matchMedia("(min-width: 1400px)");$mq2=window.matchMedia("(min-height: 600px)");if($mq.matches&&$mq2.matches)if(layoutEngine.vendor==="ie"&&layoutEngine.version=="9")return false;else return true}return false}};app.player={init:function(){$(".hero-title .v-close a").on("click",function(e){if(e)e.preventDefault();app.hero.play_bg()});$("#main-content .v-close a").on("click",function(e){if(e)e.preventDefault();var $article=$(this).closest("article");$article.removeClass("active-video");var $id=
$article.find(".jwplayer").attr("id");if(!$id)$id=$article.find(".jwswf").attr("id");if(app.players[$id].getState()=="PLAYING")$.doTimeout(500,function(){app.players[$id].pause(true)});$article.find(".video").removeClass("active")});$(".play a").on("click",function(e){if(e)e.preventDefault();var $id=$(this).data("id");if($id=="hero-video")app.hero.play_feature();else{var $article=$(this).closest("article");$article.addClass("active-video");if(app.players[$id])app.players[$id].play(true);else app.player.create($("#"+
$id),true);$("#container-"+$id).addClass("active")}})},create:function(obj,play_mode){if(!play_mode)play_mode=false;var $thumb="https://cdn.supercell.com/supercell.com/220422123611/all/themes/supercell/img/pixel.gif";var $primary="html5";if(/^((?!chrome).)*safari/i.test(navigator.userAgent)||$("html").hasClass("vendor-ie"))$primary="flash";var $skin="https://cdn.supercell.com/supercell.com/220422123611/all/themes/supercell/js/jwplayer/skins/supercell/supercell.xml";var $fp="https://cdn.supercell.com/supercell.com/220422123611/all/themes/supercell/js/jwplayer/jwplayer.flash.swf";app.players[obj.attr("id")]=jwplayer(obj.attr("id")).setup({file:obj.find("source").attr("src"),
width:"100%",aspectratio:"16:9",image:$thumb,primary:$primary,skin:$skin,autostart:play_mode,flashplayer:"https://cdn.supercell.com/supercell.com/220422123611/all/themes/supercell/js/jwplayer/jwplayer.flash.swf",ga:{}}).onComplete(function(){if(obj.attr("id")!="hero-video"){var $article=$("#"+obj.attr("id")).closest("article");$article.removeClass("active-video");$article.find(".video").removeClass("active")}})},close:function(obj,mid){$("header, footer, #main-content").css("display","block");$article=obj.closest(".hero-title");$article.removeClass("active-video").addClass("closing-video");
app.mediaelement[mid].pause();obj.removeClass("active");obj.find(".v-close").remove()},pause_slider_siblings:function(slider){slider.find(".slides li:not(.flex-active-slide)").each(function(){$id=$(this).find(".video .play a:first").data("id");if(app.players[$id])if(app.players[$id].getState()=="PLAYING")app.players[$id].pause(true)})}};app.clock={init:function(){$tmpl=$(".clocks .clock-tmpl").html();$(".clocks .clock").each(function(){app.clock.create($(this));$(this).prepend($tmpl)});$(".clocks .clock").each(function(){app.clock.set_time($(this))});
if(app.is_mobile){$(".clock.seoultokyo").clone().insertAfter($(".clock.seoultokyo"));$(".clock.seoultokyo:last").attr("class","clock tokyo")}$.doTimeout(1E3,function(){$(".clocks .clock").each(function(){app.clock.set_time($(this))});return true})},create:function(obj){obj.find(".title").show()},set_time:function(obj){var d=new Date;var hours=d.getHours();var minute=d.getMinutes();var seconds=d.getSeconds();var hourRotate;var minRotate;var secRotate;var $tz=obj.data("tz");hours=moment().tz($tz).hours();
minute=moment().tz($tz).minute();seconds=moment().tz($tz).seconds();hours=hours>12?hours-12:hours;if(minute===0)minRotate=0;else minRotate=minute*6;if(seconds===0)secRotate=0;else secRotate=seconds*6;if(hours===12)hourRotate=0;else hourRotate=hours*30+minute/2;var srotate="rotate("+secRotate+"deg)";obj.find(".sechand").css({"-ms-transform":srotate,"-moz-transform":srotate,"-webkit-transform":srotate,"transform":srotate});var hrotate="rotate("+hourRotate+"deg)";obj.find(".hourhand").css({"-ms-transform":hrotate,
"-moz-transform":hrotate,"-webkit-transform":hrotate,"transform":hrotate});var mrotate="rotate("+minRotate+"deg)";obj.find(".minhand").css({"-ms-transform":mrotate,"-moz-transform":mrotate,"-webkit-transform":mrotate,"transform":mrotate})}};app.nav={init:function(){$(".main-menu ul ul").toggleClass("display");$(".main-menu li:not(.expanded)").on("mouseover",function(){var classes=$(this)[0].className.split(" ");var classCategory=classes[1];$.doTimeout("expand-"+classCategory);$(".main-menu li.expanded").removeClass("open")});
$(".main-menu li.expanded").on("mouseover",function(){var classes=$(this)[0].className.split(" ");var classCategory=classes[1];$.doTimeout("expand-"+classCategory);$(this).addClass("open")}).on("mouseout",function(){var $_exp=$(this);var classes=$_exp[0].className.split(" ");var classCategory=classes[1];$.doTimeout("expand-"+classCategory,250,function(){$_exp.removeClass("open")})});$(".main-menu li.expanded > a").on("click",function(){$.doTimeout("expand");$(".main-menu li.expanded").removeClass("open")});
var $mq=window.matchMedia("(max-width: 1024px)");if($mq.matches)$(".main-menu li.expanded > span > a, .main-menu li.expanded > h1 > a").on("click",function(e){if(e){var ul=$(this).parent().parent().find("ul");if(ul.hasClass("active")){e.preventDefault();e.stopPropagation();$(".main-menu .active-leaf").removeClass("active-leaf");ul.removeClass("active")}else{$(".main-menu .active").removeClass("active");$(".main-menu .active-leaf").removeClass("active-leaf");e.preventDefault();ul.addClass("active");
ul.parent().parent().addClass("active-leaf");$(this).addClass("active-leaf")}}})}};app.job={init:function(){$("#avt_form").iFrameResize();$("#avt_form").on("load",function(){$scroll_top=$("#avt_container").offset().top-$("header").height()+2;$("html, body").stop().animate({"scrollTop":$scroll_top},0,"swing",function(){})})}};app.story={init:function(){$(".icon").addClass("plus");setTimeout(function(){$(".collapsible-button").each(function(index){$(this).siblings(".collapsible-content").data("collapsed",
true);var content=$(this).siblings(".collapsible-content");content.data("height",content.outerHeight());content.css("height","0px")})},100);var animation_options={duration:1E3,easing:"easeOutBack",complete:function(){$(this).data("collapsed",!$(this).data("collapsed"))}};$(".collapsible-button").on("click",function(e){if($(":animated").length)return false;var aHeight=$(this).siblings(".collapsible-content").data("height");if($(this).siblings(".collapsible-content").data("collapsed")){animation_options.easing=
"linear";$(this).siblings(".collapsible-content").animate({height:aHeight+"px"},animation_options)}else{animation_options.easing="easeOutBack";$(this).siblings(".collapsible-content").animate({height:"0px"},animation_options)}var icon=$(this).find("div:first-child");if(icon.hasClass("minus"))icon.removeClass("minus").addClass("plus");else icon.removeClass("plus").addClass("minus")})}};var previousSearch="";var busy=false,nextPage=2;var allLoaded=false,firstSearchDone=false;app.search={init:function(){if($("#search-page-results").length>
0){$("#search-results").remove();$("#search-input").remove();$("#search-icon").remove();$("#search-page-results").attr("id","search-results").show();$("#search-input-mobile").attr("id","search-input");$("#search-icon-mobile").attr("id","search-icon");$("#search-input").attr("placeholder","");$("#search-input").focus();$("#search-input").addClass("active");if($(window).width()<768)$(window).scroll(function(){if(jQuery(document).scrollTop()+jQuery(window).height()>=jQuery("#search-results").offset().top+
jQuery("#search-results").outerHeight())if(!busy&&!allLoaded&&firstSearchDone){busy=true;$(".search-loader").addClass("loading");app.search.run(nextPage,true);nextPage++}})}else{$(document).click(function(){$("#search-results.active, #search-input, #search-icon").removeClass("active");$("#search-input").val("");$.doTimeout("scid_link",200,function(){$("#nav-supercell-id").fadeIn(200)})});$(".search-close").click(function(){$("#search-results.active, #search-input, #search-icon").removeClass("active");
$("#search-input").val("");$.doTimeout("scid_link",200,function(){$("#nav-supercell-id").fadeIn(200)})});$("#search-results, #search-results *, #search-icon, #search-input").click(function(e){e.stopPropagation()})}$("#search-icon").mousedown(function(e){e.preventDefault();if($("#search-input").hasClass("active")){if(!$("#search-input").val().length){$("#search-input").removeClass("active");$(this).removeClass("active")}else{$("#search-input").addClass("loading");app.search.run()}$("#search-input").removeClass("active")}else{$("#nav-supercell-id").fadeOut(200,
function(){});$(this).addClass("active");$("#search-input").addClass("active");$("#search-input").focus()}});$("#search-input").blur(function(){if(!$(this).val().length){$(this).removeClass("active");$("#search-icon").removeClass("active");$.doTimeout("scid_link",200,function(){if($("#search-icon").hasClass("active"));else $("#nav-supercell-id").fadeIn(200,function(){})})}});$(document).keypress(function(e){if(e.which==13&&$("#search-input").is(":focus")){e.preventDefault();$("#search-input").addClass("loading");
app.search.run()}});$(".search-pagination a").click(function(e){e.preventDefault();$(this).addClass("loading");app.search.run($(this).data("page"))})},run:function(p,lazy){p=typeof p!=="undefined"?p:1;lazy=typeof lazy!=="undefined"?lazy:false;var query=$("#search-input").val();var items=[];if(query.length){if(!lazy)$(".results-wrapper .result").animate({"opacity":0},300);if(query!=previousSearch){nextPage=2;allLoaded=false;firstSearchDone=false;$(".search-loader").removeClass("all-loaded")}previousSearch=
query;$.getJSON("//api.swiftype.com/api/v1/public/engines/search.json?q="+encodeURIComponent(query)+"&page="+p+"&per_page=6&engine_key=hyyWh2j2ArdzLUTVJV4H&callback=?",function(data){if(data.info.page.total_result_count==0){var $nores_txt="Search results";if($("body").hasClass("i18n-ja"))$nores_txt="\u7d50\u679c\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002";$(".search-summary").text($nores_txt);$(".search-pagination *").hide();$(".results-wrapper .result").slideUp();$(".results-wrapper").animate({"height":0},
300);allLoaded=true}else{var $res_txt="Search results";var $page_txt="Page";if($("body").hasClass("i18n-ja")){$res_txt="\u691c\u7d22\u7d50\u679c";$page_txt="\u30da\u30fc\u30b8"}$.each(data.records.page,function(key,val){items.push('<a href="'+val.url.replace(/https?:\/\/[^\/]+/i,"")+'" class="result" style="opacity: 0;"><h3>'+val.title+'</h3><p class="metadata">'+val.body+"</p></a>")});if(lazy)$(".results-wrapper").append(items.join(""));else $(".results-wrapper").html(items.join(""));var height=
0;$(".results-wrapper a.result").each(function(){height+=$(this).outerHeight()});$(".results-wrapper").animate({"height":height},300);$(".results-wrapper .result").animate({"opacity":1},300);$(".search-summary").html($res_txt+" "+(data.info.page.num_pages>1?'<span class="page-right">'+$page_txt+" "+data.info.page.current_page+" / "+data.info.page.num_pages+"</span>":""));$(".search-pagination .prev").data("page",data.info.page.current_page-1);$(".search-pagination .next").data("page",data.info.page.current_page+
1);$(".search-pagination *").show();if(data.info.page.current_page==1)$(".search-pagination .prev, .search-pagination .separator").hide();if(data.info.page.current_page==data.info.page.num_pages||data.info.page.total_result_count<data.info.page.per_page){$(".search-pagination .next, .search-pagination .separator").hide();$(".search-loader").addClass("all-loaded");allLoaded=true}}$("#search-results").addClass("active");$("#search-input, .search-pagination a, .search-loader").removeClass("loading");
busy=false;firstSearchDone=true})}}};app.img={hero_load:function(){var $timeout=0;var $mq=window.matchMedia("(max-width: 1024px)");if($mq.matches)var $timeout=150;if($(".hero-title img").length<1)return app.hero.init();var $count=0;$.doTimeout("hero_load_delay",5E3,function(){if(!$("#main-content").hasClass("visible"))app.hero.init()});return $(".hero-title img").each(function(){if(this.complete||$(this).height()>0||this.readyState===4)$.doTimeout($timeout,function(){app.hero.init()});else $(this).on("load",
function(){$.doTimeout($timeout,function(){app.hero.init()})})})}};app.newspage={singleArticleInit:function(){var reg=/news\/[a-z]+/;if(reg.test(window.location.pathname)){var dateE=$(".node-news .field-name-field-news-publish-date");var titleE=$(".node-news .field-name-title-field > h2");var catE=$(".node-news .field-name-field-category");if(dateE.length>0&&titleE.length>0&&catE.length>0){var dateArr=dateE[0].innerHTML.trim().split(" ");var date=dateArr[0]+" "+dateArr[1].replace(/[a-z]+/,",")+" "+
dateArr[2];console.log(date);var lang=window.location.pathname.split("/").filter(String)[0];dateE.attr("data-publish-date",date);var tmp={event:"singleNewsArticleVisit",newsDate:date,newsTitle:titleE[0].innerHTML.trim(),newsLang:lang,newsCategory:catE[0].innerHTML.trim()};this.pushToGtm(tmp)}}},pushToGtm:function(obj){if(window.dataLayer)window.dataLayer.push(obj)},setCookie:function(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1E3);expires=
"; expires="+date.toUTCString()}document.cookie=name+"="+(value||"")+expires+"; path=/"},getCookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null},eraseCookie:function(name){document.cookie=name+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};app.jobapplication={hash:"",functions:[],selector:document.getElementsByName("candidate[open_question_answers_attributes][4][content]"),
init:function(){if(this.selector.length>0){var element=$('input[name="candidate[open_question_answers_attributes][4][open_question_id]"]');var el=element.parent();var idd=element.val();var h='<div class="openquestions string removable-field-jobapplication" style="display:none;">';h+='<input type="hidden" name="candidate[open_question_answers_attributes][4][open_question_id]" value="'+idd+'" />';h+='<input type="text" name="candidate[open_question_answers_attributes][4][content]" id="question_4_other" placeholder=" "/>';
h+='<label for="question_4_other">Please elaborate <sup>*</sup></label>';h+="</div>";$(el).after(h);this.selector[0].addEventListener("change",function(){if($(this).val().length>0)if($(this).val().toLowerCase()=="other"){$("#question_4_other").prop("required",true);$("#question_4_other").val("");$(".removable-field-jobapplication").fadeIn(1500)}else $(".removable-field-jobapplication").fadeOut(function(){$("#question_4_other").prop("required",false);$("#question_4_other").val($('select[name="candidate[open_question_answers_attributes][4][content]"]').val())})})}}};
app.careers={hash:"",functions:[],locations:[],all_functions:[],all_locations:[],init:function(){if(this.hash==="#all")$(".loader").addClass("show");$(".m-featured-jobs, #page-careers").find("a.button18-arrow[href=#all]").on("click",function(){window.scrollTo(0,$("#join").offset().top-$("header.main").outerHeight());$("#join .show-all a").click()});$(".m-featured-jobs").attr("data-ga-featured-positions-wrapper",true);var begunLoading=false;window.addEventListener("flexSliderReady",function(slider){if(begunLoading)return;
begunLoading=true;$("#join").load("../careers/open-positions/",function(){if(window.location.hash.length>1&&window.location.hash!="#join")$([document.documentElement,document.body]).animate({scrollTop:$("#join").offset().top},1E3);app.ui.init_job_categories();$(".m-openpositions").attr("data-ga-open-positions-wrapper",true);var openPositions={event:"openPositions",jobPositions:[]};$("ul.job-positions > li").each(function(){openPositions.jobPositions.push({jobTitle:$(this).attr("data-title"),jobFunction:$(this).attr("data-function"),
jobPosition:$(this).attr("data-position"),jobLocation:$(this).attr("data-location"),listPosition:$(this).attr("data-idx")})});if(window.dataLayer)window.dataLayer.push(openPositions);$("ul.job-positions > li").on("click",function(){var tmp={event:"jobApplicationClick",jobTitle:$(this).attr("data-title"),jobFunction:$(this).attr("data-function"),jobPosition:$(this).attr("data-position"),jobLocation:$(this).attr("data-location"),listPosition:$(this).attr("data-idx"),list:"open positions"};if(window.dataLayer)window.dataLayer.push(tmp)});
$(".m-openpositions div.content div.list span.type")[0].innerHTML="Category";if(window.location.hash.length>1&&window.location.hash!="#join"){if(app.debug)console.log("Before",window.location.hash,"top:",$("#join").offset().top,"outerHeight:",$("header.main").outerHeight());app.careers.parseHash();$("#join .job-functions li a, #join .job-locations li a").each(function(index,value){var id=$(this)[0].id;var parent=$(this).parent();var grandparent=$(this).parent().parent();if(!grandparent.hasClass("job-functions")&&
parent.is(".not-empty")){var loc=window.location.hash.replace("#","");if(!app.careers.all_locations.includes(loc))parent.addClass("active clk")}if(!grandparent.hasClass("job-locations")&&parent.is(".not-empty")){var cat=window.location.hash.replace("#","");if(!app.careers.all_functions.includes(cat))parent.addClass("active clk")}});$(window.location.hash).parent().addClass("active clk");app.careers.updateFilterArrays();console.log("get triggered dsalkjfhzslkjdfhadsk   - the fifth one")}else{$("#join .job-functions li.not-empty").addClass("active");
$("#join .job-locations li.not-empty").addClass("active");app.careers.updateFilterArrays()}app.ui.filter_jobs();$(".loader").removeClass("show");$("#join .job-functions a").on("click",function(e){if(e)e.preventDefault();if($(this).parent().hasClass("disabled"))return false;$(this).parent().toggleClass("active");var hashVal=$(this).attr("href").substring(1);if(app.careers.functions.includes(hashVal))app.careers.functions=app.careers.functions.filter(function(value,index,arr){return value!=hashVal});
else app.careers.functions.push(hashVal);if(!$(this).parent().hasClass("clk")){$(this).parent().addClass("clk");$("#join .job-functions li").each(function(n,v){if(!$(v).hasClass("clk"))$(v).removeClass("active")});$(this).parent().addClass("active")}if(app.debug)console.log("functions",app.careers.functions,"locations",app.careers.locations);app.careers.updateHistory();app.ui.filter_jobs()});$("#join .job-locations a").on("click",function(e){if(e)e.preventDefault();if($(this).parent().hasClass("disabled"))return false;
$(this).parent().toggleClass("active");var hashVal=$(this).attr("href").substring(1);if(app.careers.locations.includes(hashVal))app.careers.locations=app.careers.locations.filter(function(value,index,arr){return value!=hashVal});else app.careers.locations.push(hashVal);if(!$(this).parent().hasClass("clk")){$(this).parent().addClass("clk");$("#join .job-locations li").each(function(n,v){if(!$(v).hasClass("clk"))$(v).removeClass("active")});$(this).parent().addClass("active")}if(app.debug)console.log("functions",
app.careers.functions,"locations",app.careers.locations);app.careers.updateHistory();app.ui.filter_jobs()});$("#join .show-all a").on("click",function(e){if(e)e.preventDefault();$("#join .job-functions li, #join .job-locations li").not(".disabled").removeClass("clk");$("#join .job-functions li, #join .job-locations li").not(".disabled").addClass("active");$(this).parent().addClass("active");var $category="all";app.ui.filter_jobs($category);app.ui.select_job_function($category,$(this).text());if(history.pushState)history.pushState(null,
null,null);else{console.log("$category");console.log($category)}app.careers.updateFilterArrays()});$(".views-field-field-function span").on("click",function(e){$val=$(this).text();$("#join .job-functions li a, #join .job-locations li a").each(function(){if($(this).text()==$val){var $target=$(this);$target.click()}})});$(".m-openpositions .th li span").on("click",function(e){if($(this).hasClass("active")){app.ui.sort_job_list("idx");$(".m-openpositions .th li span").removeClass("active");return true}$val=
$(this).text();app.ui.sort_job_list($val.toLowerCase());$(".m-openpositions .th li span").removeClass("active");$(this).addClass("active")});if(app.is_mobile)$("#join .job-positions li").on("click",function(e){var job_link=$(this).find("a.button18");console.log("get triggered dsalkjfhzslkjdfhadsk");window.location=job_link[0]["href"]});console.log("get triggered dsalkjfhzslkjdfhadsk   - the third one - v3")})})},updateHistory:function(){var page="#join";if(app.careers.functions.length>0&&app.careers.locations.length>
0)page="#/"+app.careers.functions.join("/")+"/"+app.careers.locations.join("/");else if(app.careers.locations.length>0&&app.careers.functions.length==0)page="#/"+app.careers.locations.join("/");else if(app.careers.locations.length==0&&app.careers.functions.length>0)page="#/"+app.careers.functions.join("/");window.history.pushState(null,null,null)},parseHash:function(){if(app.careers.hash.length>0){var arr=app.careers.hash.substring(1).split("/");arr=arr.filter(function(x){return x});if(app.debug)console.log("parseHash",
arr);if(Array.isArray(arr))for(var i=0;i<arr.length;i++)switch(app.careers.findFilterType(arr[i])){case ".job-functions":app.careers.functions.push(arr[i]);break;case ".job-locations":app.careers.locations.push(arr[i]);break}else console.log("hash, not array",app.careers.hash)}},findFilterType:function(id){var elf=$("#join .job-functions li").find("#"+id);var ell=$("#join .job-locations li").find("#"+id);if(elf.length>0)return".job-functions";if(ell.length>0)return".job-locations"},updateFilterArrays:function(){$("#join .job-functions li a").each(function(index,
value){var _id=$(this)[0].id;if($(this).parent().hasClass("active")&&!app.careers.functions.includes(_id))app.careers.functions.push(_id)});$("#join .job-locations li a").each(function(index,value){var _id=$(this)[0].id;if($(this).parent().hasClass("active")&&!app.careers.locations.includes(_id))app.careers.locations.push(_id)})}};app.careersoffices={init:function(){if(app.debug)console.log("Debugging Our Offices");$(".sidescroll img").each(function(index,value){app.careersoffices.imageRatio(this)});
$(".sidescroll img").first().addClass("first");$(".sidescroll img").last().addClass("last");try{$(".sidescroll").sidescroll({scrollRatio:100,range:[window.innerHeight*.65,window.innerHeight*.5*-1],direction:"left"})}catch(e){console.log("sidescroll could not be applied",e)}try{$(".mobile-sidescroll-helsinki").sidescroll({direction:"left",scrollRatio:100,range:[window.innerHeight-200,-200]});$(".mobile-sidescroll-shanghai").sidescroll({direction:"left",scrollRatio:100,range:[window.innerHeight-200,
-200]});$(".mobile-sidescroll-sanfrancisco").sidescroll({direction:"left",scrollRatio:100,range:[window.innerHeight-200,-200]});$(".mobile-sidescroll-seoul").sidescroll({direction:"left",scrollRatio:100,range:[window.innerHeight-200,-200]})}catch(e$0){console.log("sidescroll could not be applied on mobile",e$0)}$(".m-offices .locations .tabcontent .office").removeClass("active");$(".m-offices .locations .tabcontent .office").first().addClass("active");$(".m-offices .locations .tabs ul li").first().addClass("active");
$(".m-offices .locations .tabs ul li").on("click",function(e){$(".m-offices .locations .tabs ul li").removeClass("active");$(".m-offices .locations .tabcontent .office").removeClass("active");$(this).addClass("active");var office=$(this)[0].className.replace(" active","");$(".m-offices .locations .tabcontent .office."+office).addClass("active")})},imageRatio:function(image){if(image.width>image.height)$(image).addClass("landscape");else if(image.width<image.height)$(image).addClass("portrait");else $(image).addClass("square")}},
app.careersloveit={story_readmore:false,init:function(){if(app.debug)console.log("Why You Might Love It Here");$(".swiper-container").each(function(index,element){var $this=$(this);if(app.debug)console.log("swiper-container",index,$this);$this.addClass("swiper-instance-"+index);$this.find(".swiper-button-prev").addClass("swiper-btn-prev-"+index);$this.find(".swiper-button-next").addClass("swiper-btn-next-"+index);$this.find(".swiper-pagination").addClass("swiper-pagination-"+index);var swiper=new Swiper(".swiper-instance-"+
index,{speed:500,pagination:{el:".swiper-pagination-"+index,clickable:true,renderBullet:function(index,className){return'<span class="'+className+'"></span>'}},hashNavigation:{replaceState:true},navigation:{nextEl:".swiper-btn-next-"+index,prevEl:".swiper-btn-prev-"+index},on:{resize:function(){swiper.updateSlides()}},slidesPerView:1,spaceBetween:0,centeredSlides:true});if(app.debug)console.log("swiper "+index,swiper)});if(window.location.hash.length>0&&!app.scrolled){var hash=encodeURI(window.location.hash);
hash=hash.replace("#","");var swiperEl=$("[data-hash='"+hash+"']"),swiperParent=swiperEl.parents(".swiper-container");if(swiperParent){$("html, body").animate({scrollTop:swiperParent.offset().top},500);app.scrolled=true}}if(app.is_mobile){if(app.debug)console.log("story_readmore",app.careersloveit.story_readmore);$(".m-story .swiper-container .swiper-slide .copy .readmore").addClass("arrow-down");$(".m-story .swiper-container .swiper-slide .copy").each(function(index,value){$(this).find("p").each(function(index,
value){if(index>0)$(this).hide()})});$(".m-story .swiper-container .swiper-slide .copy .readmore").on("click",function(e){app.careersloveit.story_readmore=!app.careersloveit.story_readmore;if(app.careersloveit.story_readmore){$(".m-story .swiper-container .swiper-slide .copy p").show("fast");var rm=$(".m-story .swiper-container .swiper-slide .copy .readmore");rm.html("Read less");rm.addClass("arrow-up");rm.removeClass("arrow-down")}else{$(".m-story .swiper-container .swiper-slide .copy").each(function(index,
value){$(this).find("p").each(function(index,value){if(index>0)$(this).hide("fast")})});var rm=$(".m-story .swiper-container .swiper-slide .copy .readmore");rm.html("Read more");rm.addClass("arrow-down");rm.removeClass("arrow-up")}if(app.debug)console.log("story_readmore",app.careersloveit.story_readmore)})}else $(".m-story .swiper-container .swiper-slide .copy p").each(function(index,value){$(this).show()})}},app.careersjoin={hash:window.location.hash,resize:function(){app.ui.handle_anchor()},init:function(){$(".sidescroll").sidescroll({sticky:true,
tween:true,stickyContainer:$(".step-by-step-process")[0],scrollContainer:$(".step-by-step-process .sbs__steps")[0],disabled:[0,767]});setTimeout(function(){app.ui.handle_anchor()},1);$(".faq .question div:nth-child(odd)").addClass("icon plus");$(".faq .question").each(function(index){var qHeight=$(this).find("div:nth-child(odd)").outerHeight()+80;var aHeight=$(this).find("div:nth-child(even)").outerHeight()+32;$(this).css("height",qHeight+"px");$(this).data("collapsed",true);$(this).find("div:nth-child(even)").css("display",
"").addClass("answer")});var animation_options={duration:500,easing:"easeOutBack",complete:function(){$(this).data("collapsed",!$(this).data("collapsed"))}};$(".faq .question").on("click",function(e){if($(":animated").length)return false;var qHeight=$(this).find("div:nth-child(odd)").outerHeight()+80;var aHeight=$(this).find("div:nth-child(even)").outerHeight()+32;if($(this).data("collapsed")){animation_options.easing="easeOutExpo";$(this).animate({height:qHeight+aHeight+"px"},animation_options)}else{animation_options.easing=
"easeOutBack";$(this).animate({height:qHeight+"px"},animation_options)}var icon=$(this).find("div:first-child");if(icon.hasClass("minus"))icon.removeClass("minus").addClass("plus");else icon.removeClass("plus").addClass("minus")})}},app.frontpage={init:function(){$(".link-more a").on("click",function(e){if($(".link-more").hasClass("archive"))return true;e.stopPropagation();$(".field-name-field-featured-news .field-items").addClass("more");$(this).parent().addClass("archive");$.doTimeout(500,function(){$(".link-more a").text($(".link-more a").data("alt-text"));
$(".link-more a").attr("href",$(".link-more a").data("alt-url"))})})}};app.games={init:function(){if(app.is_mobile){var gs=$(".m-timeline").find(".game-screen");$(".m-timeline .scroll-container").append(gs)}}};$.fn.app=function(scope,method){if(app[scope][method])return app[scope][method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method==="object"||!method)return app[scope].init.apply(this,arguments);else return false};$(window).load(function(){$("body").app("start")});(function(){var method;
var noop=function noop(){};var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var length=methods.length;var console=window.console=window.console||{};while(length--){method=methods[length];if(!console[method])console[method]=noop}})();(function($,window){$.fn.sidescroll=function(options){var ticking=false,opts=$.extend({lastY:null,
sticky:false,scrollContainer:null,stickyPosition:0,scrollRatio:70,scrollLength:null,range:"viewport",verticalSpace:0,height:null,width:null,tween:false,direction:"right",disabled:[]},options);if(this.length>1)throw new Error("Only one root element allowed");if(opts.range==="viewport")opts.range=[window.innerHeight,0];$.each(this,function(index,elm){calculateScrollDistance(opts,elm);if(opts.sticky)calculateSticky(elm,opts);if(opts.tween)if(opts.scrollContainer)opts.scrollContainer.classList.add("tween");
else elm.classList.add("tween");window.addEventListener("scroll",function(e){updateLoop(opts,elm)});window.addEventListener("resize",function(e){if(isDisabled(opts))reset(elm,opts);calculateScrollDistance(opts,elm);if(opts.sticky)calculateSticky(elm,opts);updateLoop(opts,elm);render(elm,opts,true)});$(document).ready(function(){opts.lastY=window.scrollY;render(elm,opts,true)})});return this};function isDisabled(opts){if(opts.disabled.length===2)return window.innerWidth>opts.disabled[0]&&window.innerWidth<
opts.disabled[1];return false}function reset(elm,opts){opts.scrollContainer.style.transform=null;elm.parentNode.removeAttribute("style");elm.removeAttribute("style")}function isHidden(el){var style=window.getComputedStyle(el);return style.display==="none"}function updateLoop(opts,elm){if(opts.lastY===null||opts.lastY===0){opts.lastY=window.scrollY;render(elm,opts,true)}opts.lastY=window.scrollY;if(isHidden(elm))return;window.requestAnimationFrame(function(){render(elm,opts)})}function calculateScrollDistance(opts,
elm){if(opts.scrollContainer){opts.width=opts.scrollContainer.getBoundingClientRect().width;opts.scrollLength=opts.scrollContainer.getBoundingClientRect().width-opts.scrollContainer.parentNode.getBoundingClientRect().width;opts.height=opts.scrollContainer.getBoundingClientRect().height}else{opts.width=elm.getBoundingClientRect().width;opts.scrollLength=elm.getBoundingClientRect().width-elm.parentNode.getBoundingClientRect().width;opts.height=elm.getBoundingClientRect().height}}function calculateSticky(elm,
opts){if(isDisabled(opts)){reset(elm,opts);return}opts.scrollRatio=null;opts.verticalSpace=opts.width;elm.parentNode.style.paddingBottom="calc(100vh + "+opts.scrollLength+"px)";elm.parentNode.style.position="relative";elm.style.width="100%";elm.style.height=window.innerHeight+"px"}function render(elm,opts,force){if(isDisabled(opts)){reset(elm,opts);return}var start=null,end=null;if(typeof force==="undefined")force=false;var progress=null;if(opts.sticky){start=Math.max(elm.parentNode.getBoundingClientRect().y+
opts.lastY+opts.stickyPosition,0);end=elm.parentNode.getBoundingClientRect().y+elm.parentNode.getBoundingClientRect().height+opts.lastY-window.innerHeight;if(opts.lastY>=start&&opts.lastY<=end){progress=(opts.lastY-start)*-1;elm.style.position="fixed";elm.style.top=opts.stickyPosition+"px";elm.style.bottom="0";opts.scrollContainer.style.transform="translateX("+progress+"px)"}else if(opts.lastY>end){elm.style.top="auto";elm.style.bottom="0px";elm.style.position="absolute";opts.scrollContainer.style.transform=
"translateX(-"+opts.scrollLength+"px)"}else{elm.style.position="absolute";opts.scrollContainer.style.transform="translateX(0px)"}}else{start=Math.max(elm.getBoundingClientRect().y-opts.range[0]+opts.lastY,0);end=elm.getBoundingClientRect().y+elm.getBoundingClientRect().height+opts.range[1]+opts.lastY;if(elm.firstElementChild.getBoundingClientRect().width<window.innerWidth)return;var xMovement=Math.round(opts.scrollRatio/100*(elm.firstElementChild.getBoundingClientRect().width-window.innerWidth));
if(opts.lastY>=start&&opts.lastY<=end||force){progress=Math.max(0,(opts.lastY-start)/(end-start));progress=Math.min(1,progress);var calcMovement=Math.round(progress*xMovement);if(opts.direction!=="right")calcMovement*=-1;else xMovement=Math.max(1,calcMovement);elm.style.transform="translateX("+calcMovement+"px)"}else if(opts.lastY<start)elm.style.transform="translateX(0px)";else if(opts.lastY>end)elm.style.transform=xMovement}}})(jQuery,window);(function($){$.fn.randomize=function(tree,childElem){return this.each(function(){var $this=
$(this);if(tree)$this=$(this).find(tree);var unsortedElems=$this.children(childElem);var elems=unsortedElems.clone();elems.sort(function(){return Math.round(Math.random())-.5});for(var i=0;i<elems.length;i++)unsortedElems.eq(i).replaceWith(elems[i])})}})(jQuery);(function($){$.fancybox.defaults.keyboard=false;$.fancybox.defaults.arrows=false;$.fancybox.defaults.buttons=["close"];$.fancybox.defaults.smallBtn=true;$.fancybox.defaults.infobar=false;$.fancybox.defaults.toolbar=false;$.fancybox.defaults.wheel=
false})(jQuery);$.easing.jswing=$.easing.swing;$.extend($.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,
c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=
2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return t==0?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;
return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,
10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);
if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=1.525)+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+
b},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<1/2.75)return c*(7.5625*t*t)+b;else if(t<2/2.75)return c*(7.5625*(t-=1.5/2.75)*t+.75)+b;else if(t<2.5/2.75)return c*(7.5625*(t-=2.25/2.75)*t+.9375)+b;else return c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return $.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return $.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}})})(jQuery,Drupal);