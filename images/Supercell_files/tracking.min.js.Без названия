jQuery(document).ready(function($){function send_ga_events(data_category,data_action,data_label){if(typeof ga!=="undefined")ga("send","event",data_category,data_action,data_label);else;}function send_data_layer(obj){if(window.dataLayer)window.dataLayer.push(obj)}var app2=new Object;app2.tracking={init:function(){if($("#recruitee-application").length>0){document.getElementById("fullname").addEventListener("focusout",function(){if($(this).val().length>0){var tmp={event:"nameComplited",jobTitle:$(".pgs-foundation-layout").attr("data-ga-title"),
jobFunction:$(".pgs-foundation-layout").attr("data-ga-function"),jobType:$(".pgs-foundation-layout").attr("data-ga-position"),jobLocation:$(".pgs-foundation-layout").attr("data-ga-location")};send_data_layer(tmp)}});document.getElementById("phone").addEventListener("focusout",function(){if($(this).val().length>0){var tmp={event:"phoneComplited",jobTitle:$(".pgs-foundation-layout").attr("data-ga-title"),jobFunction:$(".pgs-foundation-layout").attr("data-ga-function"),jobType:$(".pgs-foundation-layout").attr("data-ga-position"),
jobLocation:$(".pgs-foundation-layout").attr("data-ga-location")};send_data_layer(tmp)}});document.getElementById("email").addEventListener("focusout",function(){if($(this).val().length>0){var tmp={event:"emailComplited",jobTitle:$(".pgs-foundation-layout").attr("data-ga-title"),jobFunction:$(".pgs-foundation-layout").attr("data-ga-function"),jobType:$(".pgs-foundation-layout").attr("data-ga-position"),jobLocation:$(".pgs-foundation-layout").attr("data-ga-location")};send_data_layer(tmp)}});document.getElementById("candidate[cv]").addEventListener("change",
function(){if($(this).val().length>0){var tmp={event:"cvComplited",jobTitle:$(".pgs-foundation-layout").attr("data-ga-title"),jobFunction:$(".pgs-foundation-layout").attr("data-ga-function"),jobType:$(".pgs-foundation-layout").attr("data-ga-position"),jobLocation:$(".pgs-foundation-layout").attr("data-ga-location")};send_data_layer(tmp)}});if(document.getElementsByName("candidate[open_question_answers_attributes][4][content]").length>0)document.getElementsByName("candidate[open_question_answers_attributes][4][content]")[0].addEventListener("change",
function(){if($(this).val().length>0)if($(this).val().toLowerCase()=="other"){var that=this;$("#question_4_other").on("change",function(){if($(this).val().length>0){var tmp={event:"whereDidYouHearComplited",jobTitle:$(".pgs-foundation-layout").attr("data-ga-title"),jobFunction:$(".pgs-foundation-layout").attr("data-ga-function"),jobType:$(".pgs-foundation-layout").attr("data-ga-position"),jobLocation:$(".pgs-foundation-layout").attr("data-ga-location"),selection:$(that).val()+" - "+$(this).val()};
send_data_layer(tmp)}})}else{var tmp={event:"whereDidYouHearComplited",jobTitle:$(".pgs-foundation-layout").attr("data-ga-title"),jobFunction:$(".pgs-foundation-layout").attr("data-ga-function"),jobType:$(".pgs-foundation-layout").attr("data-ga-position"),jobLocation:$(".pgs-foundation-layout").attr("data-ga-location"),selection:$(this).val()};send_data_layer(tmp)}})}$('a[data-ga-track="event"]').on("click",function(e){var data_category=$(this).attr("data-ga-category");var data_action=$(this).attr("data-ga-action");
var data_label=$(this).attr("data-ga-opt_label");page_title=$('meta[property="st:title"]').attr("content");data_label=data_label+" / "+page_title;send_ga_events(data_category,data_action,data_label)});$("header.main a,#search-icon").on("click",function(e){var data_category="Main navigation";var data_action="Click";var data_label=$(this).html();send_ga_events(data_category,data_action,data_label)});$("footer .social-media-menu a").on("click",function(e){var data_label=$(this).html();send_ga_events("Social link",
"Click","Footer / "+data_label)});$("footer .secondary-menu a").on("click",function(e){var data_label=$(this).html();send_ga_events("Navigation","Click","Footer / "+data_label)});if($(".front-page").length>0){$(".flexslider a.button").on("click",function(e){var title=$(this).text();send_ga_events("Featured content","Click","Slider / "+title)});$(".featured-content.large-custom, .featured-content.large-standard, .featured-content.large-img ").on("click",function(e){var data_label=$(this).text();send_ga_events("Featured content",
"Click",data_label)});$(".featured-content.support-all .button").on("click",function(e){var title=$(this).find("span:first-child").text();send_ga_events("Featured content","Click",title)})}if($(".page#page-careers,.front-page").length>0)$(".pane-featured-jobs .item[data-loc],.featured-content[data-loc] .container").on("click",function(e){var title=$(this).find("a").html();var secondary=$(this).find(".secondary-title").html();var location=$(this).find(".location").html();var data_label=title+", "+
secondary+", "+location;send_ga_events("Featured position","Click",data_label)});if($(".page#page-careers").length>0){$("ul.job-functions.tabbed li a").on("click",function(e){var title=$(this).html();send_ga_events("In-page navigation","Select","Job category: "+title)});$("ul.job-positions li a").on("click",function(e){var title=$(this).parents(".views-row").find(".views-field-title strong").html();var secondary=$(this).parents(".views-row").find(".views-field-secondary-title").html();var location=
$(this).parents(".views-row").find(".views-field-field-location .field-content").html();var data_label=title+secondary+", "+location;var data_category=$(".job-functions.tabbed .active a").html();send_ga_events("Position applied / "+data_category,"Apply",data_label)});var featuredJobs={event:"featuredPositions",jobPositions:[]};$(".m-featured-jobs .featured").each(function(){featuredJobs.jobPositions.push({jobTitle:$(this).attr("data-title"),jobFunction:$(this).attr("data-func"),jobPosition:$(this).attr("data-position"),
jobLocation:$(this).attr("data-loc"),listPosition:$(this).attr("data-lp")})});send_data_layer(featuredJobs);$(".m-featured-jobs .featured").on("click",function(){var tmp={event:"jobApplicationClick",jobTitle:$(this).attr("data-title"),jobFunction:$(this).attr("data-func"),jobPosition:$(this).attr("data-position"),jobLocation:$(this).attr("data-loc"),listPosition:$(this).attr("data-lp"),list:"featured positions"};send_data_layer(tmp)})}}};$.fn.app2=function(scope,method){if(app2[scope][method])return app2[scope][method].apply(this,
Array.prototype.slice.call(arguments,1));else if(typeof method==="object"||!method)return app2[scope].init.apply(this,arguments);else return false};$("body").app2("tracking")});